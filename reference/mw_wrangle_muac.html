<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Wrangle MUAC data — mw_wrangle_muac • mwana</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wrangle MUAC data — mw_wrangle_muac"><meta name="description" content="Calculate z-scores for MUAC-for-age (MFAZ) and identify outliers based on
the SMART methodology. When age is not supplied, only outliers are detected
from the raw MUAC values. The function only works after age has gone through
mw_wrangle_age()."><meta property="og:description" content="Calculate z-scores for MUAC-for-age (MFAZ) and identify outliers based on
the SMART methodology. When age is not supplied, only outliers are detected
from the raw MUAC values. The function only works after age has gone through
mw_wrangle_age()."><meta property="og:image" content="https://nutriverse.io/mwana/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-success" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mwana</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plausibility.html">Running plausibility checks</a></li>
    <li><a class="dropdown-item" href="../articles/prevalence.html">Estimating the prevalence of wasting</a></li>
    <li><a class="dropdown-item" href="../articles/ipc_amn_check.html">IPC sample size requirements</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://nutriverse.io" aria-label="View website"><span class="fa globe fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mastodon.social/@nutriverse" aria-label="Follow on Mastodon"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nutriverse/mwana/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Wrangle MUAC data</h1>
      <small class="dont-index">Source: <a href="https://github.com/nutriverse/mwana/blob/main/R/wrangle_muac.R" class="external-link"><code>R/wrangle_muac.R</code></a></small>
      <div class="d-none name"><code>mw_wrangle_muac.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate z-scores for MUAC-for-age (MFAZ) and identify outliers based on
the SMART methodology. When age is not supplied, only outliers are detected
from the raw MUAC values. The function only works after age has gone through
<code><a href="mw_wrangle_age.html">mw_wrangle_age()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mw_wrangle_muac</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">sex</span>,</span>
<span>  <span class="va">muac</span>,</span>
<span>  age <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .recode_sex <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .recode_muac <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cm"</span>, <span class="st">"mm"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  .decimals <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A <code>data.frame</code> object to wrangle data from.</p></dd>


<dt id="arg-sex">sex<a class="anchor" aria-label="anchor" href="#arg-sex"></a></dt>
<dd><p>A <code>numeric</code> or <code>character</code> vector of child's sex. Code values
should only be 1 or "m" for males and 2 or "f" for females.</p></dd>


<dt id="arg-muac">muac<a class="anchor" aria-label="anchor" href="#arg-muac"></a></dt>
<dd><p>A <code>numeric</code> vector of child's age in months.</p></dd>


<dt id="arg-age">age<a class="anchor" aria-label="anchor" href="#arg-age"></a></dt>
<dd><p>A <code>numeric</code> vector of child's age in months. Default is NULL.</p></dd>


<dt id="arg--recode-sex">.recode_sex<a class="anchor" aria-label="anchor" href="#arg--recode-sex"></a></dt>
<dd><p>Logical. Set to TRUE if the values for <code>sex</code> are not coded
as 1 (for males) or 2 (for females). Otherwise, set to FALSE (default).</p></dd>


<dt id="arg--recode-muac">.recode_muac<a class="anchor" aria-label="anchor" href="#arg--recode-muac"></a></dt>
<dd><p>Logical. Set to TRUE if the values for raw MUAC should be
converted to either centimeters or millimeters. Otherwise, set to FALSE
(default)</p></dd>


<dt id="arg--to">.to<a class="anchor" aria-label="anchor" href="#arg--to"></a></dt>
<dd><p>A choice of the measuring unit to convert MUAC values into. Can be
"cm" for centimeters, "mm" for millimeters, or "none" to leave as it is.</p></dd>


<dt id="arg--decimals">.decimals<a class="anchor" aria-label="anchor" href="#arg--decimals"></a></dt>
<dd><p>The number of decimal places to use for z-score outputs.
Default is 3.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> based on <code>df</code>. If <code>age = NULL</code>, <code>flag_muac</code> variable for
detected MUAC outliers based on raw MUAC is added to <code>df</code>. Otherwise,
variables named <code>mfaz</code> for child's MFAZ and <code>flag_mfaz</code> for detected outliers
based on SMART guidelines are added to <code>df</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bilukha, O., &amp; Kianian, B. (2023). Considerations for assessment of measurement
quality of mid‐upper arm circumference data in anthropometric surveys and
mass nutritional screenings conducted in humanitarian and refugee settings.
<em>Maternal &amp; Child Nutrition</em>, 19, e13478. <a href="https://doi.org/10.1111/mcn.13478" class="external-link">https://doi.org/10.1111/mcn.13478</a></p>
<p>SMART Initiative (2017). <em>Standardized Monitoring and Assessment for Relief
and Transition</em>. Manual 2.0. Available at: <a href="https://smartmethodology.org" class="external-link">https://smartmethodology.org</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="outliers.html">flag_outliers()</a></code> <code><a href="outliers.html">remove_flags()</a></code> <code><a href="mw_wrangle_age.html">mw_wrangle_age()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## When age is available, wrangle it first before calling the function ----</span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="mw_wrangle_age.html">mw_wrangle_age</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  dos <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  dob <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="va">age</span>,</span></span>
<span class="r-in"><span>  .decimals <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Then apply the function to wrangle MUAC data ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_wrangle_muac</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">w</span>,</span></span>
<span class="r-in"><span>  sex <span class="op">=</span> <span class="va">sex</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="va">age</span>,</span></span>
<span class="r-in"><span>  muac <span class="op">=</span> <span class="va">muac</span>,</span></span>
<span class="r-in"><span>  .recode_sex <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  .recode_muac <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  .to <span class="op">=</span> <span class="st">"cm"</span>,</span></span>
<span class="r-in"><span>  .decimals <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,267 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    province strata cluster   sex   age weight height edema  muac wtfactor   wfhz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Zambezia Rural      391     2  6.01    8.2   68   n      15.2     825.  0.349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Zambezia Rural      404     2  6.01    7.1   65.1 n      13.9     287. -<span style="color: #BB0000;">0.006</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Zambezia Rural      399     2  6.11    7.6   64.1 n      15.5     130.  0.9  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Zambezia Urban      430     2  6.14    7.9   65.9 n      14.8    <span style="text-decoration: underline;">1</span>277.  0.876</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Zambezia Urban      468     2  6.28    6.6   59.7 n      13.2     792.  1.38 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Zambezia Urban      517     2  6.34    6     61.8 n      12.9     480. -<span style="color: #BB0000;">0.583</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Zambezia Urban      461     2  6.34    6.5   64.4 n      12.3     977. -<span style="color: #BB0000;">0.732</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Zambezia Rural      382     2  6.41    6.5   63.4 n      12.6     165. -<span style="color: #BB0000;">0.349</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Zambezia Urban      502     2  6.41    7.5   66   n      14.2    <span style="text-decoration: underline;">1</span>083. -<span style="color: #BB0000;">0.006</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Zambezia Urban      500     2  6.41    6.8   64.1 n      13.5     972. -<span style="color: #BB0000;">0.441</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2,257 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: flag_wfhz &lt;dbl&gt;, mfaz &lt;dbl&gt;, flag_mfaz &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   age_days &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## When age is not available ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_wrangle_muac</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  sex <span class="op">=</span> <span class="va">sex</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  muac <span class="op">=</span> <span class="va">muac</span>,</span></span>
<span class="r-in"><span>  .recode_sex <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  .recode_muac <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  .to <span class="op">=</span> <span class="st">"cm"</span>,</span></span>
<span class="r-in"><span>  .decimals <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,267 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    province strata cluster   sex   age weight height edema  muac wtfactor   wfhz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Zambezia Rural      391     2  6.01    8.2   68   n       152     825.  0.349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Zambezia Rural      404     2  6.01    7.1   65.1 n       139     287. -<span style="color: #BB0000;">0.006</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Zambezia Rural      399     2  6.11    7.6   64.1 n       155     130.  0.9  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Zambezia Urban      430     2  6.14    7.9   65.9 n       148    <span style="text-decoration: underline;">1</span>277.  0.876</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Zambezia Urban      468     2  6.28    6.6   59.7 n       132     792.  1.38 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Zambezia Urban      517     2  6.34    6     61.8 n       129     480. -<span style="color: #BB0000;">0.583</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Zambezia Urban      461     2  6.34    6.5   64.4 n       123     977. -<span style="color: #BB0000;">0.732</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Zambezia Rural      382     2  6.41    6.5   63.4 n       126     165. -<span style="color: #BB0000;">0.349</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Zambezia Urban      502     2  6.41    7.5   66   n       142    <span style="text-decoration: underline;">1</span>083. -<span style="color: #BB0000;">0.006</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Zambezia Urban      500     2  6.41    6.8   64.1 n       135     972. -<span style="color: #BB0000;">0.441</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2,257 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: flag_wfhz &lt;dbl&gt;, mfaz &lt;dbl&gt;, flag_mfaz &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   flag_muac &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomás Zaba, Ernest Guevarra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

