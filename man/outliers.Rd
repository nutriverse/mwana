% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{flag_outliers}
\alias{flag_outliers}
\alias{remove_flags}
\title{Identify, flag outliers and remove them}
\usage{
flag_outliers(x, .from = c("zscores", "raw_muac"))

remove_flags(x, .from = c("zscores", "raw_muac"))
}
\arguments{
\item{x}{A vector of class \code{numeric} of WFHZ, MFAZ, HFAZ, WFAZ or raw MUAC values.
The latter should be in millimeters. If the class is different than expected,
the function will stop execution and return an error message indicating the
type of mismatch.}

\item{.from}{A choice between \code{zscores} and \code{raw_muac} for where outliers should be
detected and flagged from.}
}
\value{
A vector of the same length as \code{x} for flagged records coded as
\code{1} for is a flag and \code{0} not a flag.
}
\description{
Identify outlier z-scores for weight-for-height (WFHZ) and MUAC-for-age (MFAZ)
following the SMART methodology. The function can also be used to detect
outliers for height-for-age (HFAZ) and weight-for-age (WFAZ) z-scores
following the same approach.

For raw MUAC values, outliers constitute values that are less than 100
millimeters or greater than 200 millimeters.

Removing outliers consist in setting the outlier record to \code{NA} and not necessarily
to delete it from the dataset. This is useful in the analysis procedures
where outliers must be removed, such as the analysis of the standard deviation.
}
\details{
For z-score-based detection, flagged records represent outliers that deviate
substantially from the sample's z-score mean, making them unlikely to reflect
accurate measurements. For raw MUAC values, flagged records are those that fall
outside the acceptable fixed range. Including such outliers in the analysis could
compromise the accuracy and precision of the resulting estimates.

The flagging criterion used for raw MUAC values is based on a recommendation
by Bilukha, O., & Kianian, B. (2023).
}
\examples{
## Sample data of raw MUAC values ----
x <- anthro.01$muac

## Apply the function with `.from` set to "raw_muac" ----
m <- flag_outliers(x, .from = "raw_muac")
head(m)

## Sample data of z-scores (be it WFHZ, MFAZ, HFAZ or WFAZ) ----
x <- anthro.02$mfaz

# Apply the function with `.from` set to "zscores" ----
z <- flag_outliers(x, .from = "zscores")
tail(z)

## With `.from` set to "zscores" ----
z <- remove_flags(
  x = wfhz.01$wfhz,
  .from = "zscores"
)

head(z)

## With `.from` set to "raw_muac" ----
m <- remove_flags(
  x = mfaz.01$muac,
  .from = "raw_muac"
)

tail(m)

}
\references{
Bilukha, O., & Kianian, B. (2023). Considerations for assessment of measurement
quality of mid‐upper arm circumference data in anthropometric surveys and
mass nutritional screenings conducted in humanitarian and refugee settings.
\emph{Maternal & Child Nutrition}, 19, e13478. Available at \url{https://doi.org/10.1111/mcn.13478}

SMART Initiative (2017). \emph{Standardized Monitoring and Assessment for Relief
and Transition}. Manual 2.0. Available at: \url{https://smartmethodology.org}.
}
