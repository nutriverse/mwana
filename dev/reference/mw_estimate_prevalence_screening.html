<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate the prevalence of wasting based on MUAC for non survey data — mw_estimate_prevalence_screening • mwana</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate the prevalence of wasting based on MUAC for non survey data — mw_estimate_prevalence_screening"><meta name="description" content="It is common to estimate prevalence of wasting from non survey data, such
as screenings or any other community-based surveillance systems. In such
situations, the analysis usually consists only in estimating the point prevalence
and the counts of positive cases, without necessarily estimating the
uncertainty. This is the job of this function.
Before estimating, it evaluates the quality of data by calculating and rating the
standard deviation of z-scores of muac-for-age (MFAZ) and the p-value of the
age ratio test; then it sets the analysis path that best fits the data.
If all tests are rated as not problematic, a normal analysis is done.
If standard deviation is not problematic and age ratio test is problematic,
prevalence is age-weighted. This is to fix the likely overestimation of wasting
when there are excess of younger children in the data set.
If standard deviation is problematic and age ratio test is not, or both
are problematic,  analysis gets cancelled out and NAs get thrown.


Outliers are detected based on SMART flags on the MFAZ values and then
get excluded prior being piped into the actual prevalence analysis workflow."><meta property="og:description" content="It is common to estimate prevalence of wasting from non survey data, such
as screenings or any other community-based surveillance systems. In such
situations, the analysis usually consists only in estimating the point prevalence
and the counts of positive cases, without necessarily estimating the
uncertainty. This is the job of this function.
Before estimating, it evaluates the quality of data by calculating and rating the
standard deviation of z-scores of muac-for-age (MFAZ) and the p-value of the
age ratio test; then it sets the analysis path that best fits the data.
If all tests are rated as not problematic, a normal analysis is done.
If standard deviation is not problematic and age ratio test is problematic,
prevalence is age-weighted. This is to fix the likely overestimation of wasting
when there are excess of younger children in the data set.
If standard deviation is problematic and age ratio test is not, or both
are problematic,  analysis gets cancelled out and NAs get thrown.


Outliers are detected based on SMART flags on the MFAZ values and then
get excluded prior being piped into the actual prevalence analysis workflow."><meta property="og:image" content="https://nutriverse.io/mwana/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-success" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mwana</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plausibility.html">Running plausibility checks</a></li>
    <li><a class="dropdown-item" href="../articles/prevalence.html">Estimating the prevalence of wasting</a></li>
    <li><a class="dropdown-item" href="../articles/ipc_amn_check.html">Checking if IPC Acute Malnutrition sample size requirements were met</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://nutriverse.io"><span class="fa globe fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mastodon.social/@nutriverse"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nutriverse/mwana/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimate the prevalence of wasting based on MUAC for non survey data</h1>
      <small class="dont-index">Source: <a href="https://github.com/nutriverse/mwana/blob/dev/R/prev_wasting_screening.R" class="external-link"><code>R/prev_wasting_screening.R</code></a></small>
      <div class="d-none name"><code>mw_estimate_prevalence_screening.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>It is common to estimate prevalence of wasting from non survey data, such
as screenings or any other community-based surveillance systems. In such
situations, the analysis usually consists only in estimating the point prevalence
and the counts of positive cases, without necessarily estimating the
uncertainty. This is the job of this function.</p>
<p>Before estimating, it evaluates the quality of data by calculating and rating the
standard deviation of z-scores of muac-for-age (MFAZ) and the p-value of the
age ratio test; then it sets the analysis path that best fits the data.</p><ul><li><p>If all tests are rated as not problematic, a normal analysis is done.</p></li>
<li><p>If standard deviation is not problematic and age ratio test is problematic,
prevalence is age-weighted. This is to fix the likely overestimation of wasting
when there are excess of younger children in the data set.</p></li>
<li><p>If standard deviation is problematic and age ratio test is not, or both
are problematic,  analysis gets cancelled out and <code>NA</code>s get thrown.</p></li>
</ul><p>Outliers are detected based on SMART flags on the MFAZ values and then
get excluded prior being piped into the actual prevalence analysis workflow.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mw_estimate_prevalence_screening</span><span class="op">(</span><span class="va">df</span>, <span class="va">muac</span>, edema <span class="op">=</span> <span class="cn">NULL</span>, .by <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data set object of class <code>data.frame</code> to use. This must have been
wrangled using this package's wrangling function for MUAC data. Make sure
MUAC values are converted to millimeters after using the wrangler.
If this is not done, the function will stop execution and return an error message
with the issue.</p></dd>


<dt id="arg-muac">muac<a class="anchor" aria-label="anchor" href="#arg-muac"></a></dt>
<dd><p>A vector of raw MUAC values of class <code>numeric</code> or <code>integer</code>.
The measurement unit of the values should be millimeters. If any or all values
are in a different unit than the expected, the function will stop execution and
return an error message indicating the issue.</p></dd>


<dt id="arg-edema">edema<a class="anchor" aria-label="anchor" href="#arg-edema"></a></dt>
<dd><p>A vector of class <code>character</code> of edema. Code should be
"y" for presence and "n" for absence of bilateral edema. Default is <code>NULL</code>.
If class, as well as, code values are different than expected, the function
will stop the execution and return an error message indicating the issue.</p></dd>


<dt id="arg--by">.by<a class="anchor" aria-label="anchor" href="#arg--by"></a></dt>
<dd><p>A vector of class <code>character</code> or <code>numeric</code> of the geographical areas
or respective IDs for where the data was collected and for which the analysis
should be summarized at.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A summarized table of class <code>data.frame</code> of the descriptive
statistics about wasting.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>SMART Initiative (no date). <em>Updated MUAC data collection tool</em>. Available at:
<a href="https://smartmethodology.org/survey-planning-tools/updated-muac-tool/" class="external-link">https://smartmethodology.org/survey-planning-tools/updated-muac-tool/</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="prev-muac.html">mw_estimate_prevalence_muac()</a></code> <code><a href="prev-muac.html">mw_estimate_smart_age_wt()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">mw_estimate_prevalence_screening</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  muac <span class="op">=</span> <span class="va">muac</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="va">edema</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="va">province</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   province gam_n  gam_p sam_n   sam_p mam_n  mam_p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Nampula     61 0.059<span style="text-decoration: underline;">0</span>    19 0.018<span style="text-decoration: underline;">4</span>     42 0.040<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Zambezia    57 0.050<span style="text-decoration: underline;">0</span>    10 0.008<span style="text-decoration: underline;">76</span>    47 0.041<span style="text-decoration: underline;">2</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## With `edema` set to `NULL` ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_estimate_prevalence_screening</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  muac <span class="op">=</span> <span class="va">muac</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="va">province</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   province gam_n  gam_p sam_n   sam_p mam_n  mam_p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Nampula     53 0.051<span style="text-decoration: underline;">3</span>    10 0.009<span style="text-decoration: underline;">67</span>    43 0.041<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Zambezia    53 0.046<span style="text-decoration: underline;">5</span>     6 0.005<span style="text-decoration: underline;">26</span>    47 0.041<span style="text-decoration: underline;">2</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## With `.by` set to `NULL` ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_estimate_prevalence_screening</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  muac <span class="op">=</span> <span class="va">muac</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   gam_n  gam_p sam_n   sam_p mam_n  mam_p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>   106 0.048<span style="text-decoration: underline;">7</span>    16 0.007<span style="text-decoration: underline;">36</span>    90 0.041<span style="text-decoration: underline;">4</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomás Zaba, Ernest Guevarra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

