<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate the prevalence of wasting based on z-scores of weight-for-height (WFHZ) — mw_estimate_prevalence_wfhz • mwana</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate the prevalence of wasting based on z-scores of weight-for-height (WFHZ) — mw_estimate_prevalence_wfhz"><meta name="description" content="Calculate the prevalence estimates of wasting based on z-scores of
weight-for-height and/or bilateral edema. The function allows users to
get the prevalence estimates calculated in accordance with the complex sample
design properties; this includes applying survey weights when needed or applicable.
Before estimating, the function evaluates the quality of data by calculating
and rating the standard deviation of z-scores of WFHZ. If rated as problematic,
the prevalence is estimated based on the PROBIT method.
Outliers are detected based on SMART flags and get excluded prior being piped
into the actual prevalence analysis workflow."><meta property="og:description" content="Calculate the prevalence estimates of wasting based on z-scores of
weight-for-height and/or bilateral edema. The function allows users to
get the prevalence estimates calculated in accordance with the complex sample
design properties; this includes applying survey weights when needed or applicable.
Before estimating, the function evaluates the quality of data by calculating
and rating the standard deviation of z-scores of WFHZ. If rated as problematic,
the prevalence is estimated based on the PROBIT method.
Outliers are detected based on SMART flags and get excluded prior being piped
into the actual prevalence analysis workflow."><meta property="og:image" content="https://nutriverse.io/mwana/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-success" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mwana</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/plausibility.html">Running plausibility checks</a></li>
    <li><a class="dropdown-item" href="../articles/prevalence.html">Estimating the prevalence of wasting</a></li>
    <li><a class="dropdown-item" href="../articles/ipc_amn_check.html">Checking if IPC Acute Malnutrition sample size requirements were met</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://nutriverse.io"><span class="fa globe fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mastodon.social/@nutriverse"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nutriverse/mwana/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimate the prevalence of wasting based on z-scores of weight-for-height (WFHZ)</h1>
      <small class="dont-index">Source: <a href="https://github.com/nutriverse/mwana/blob/main/R/prev_wasting_wfhz.R" class="external-link"><code>R/prev_wasting_wfhz.R</code></a></small>
      <div class="d-none name"><code>mw_estimate_prevalence_wfhz.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the prevalence estimates of wasting based on z-scores of
weight-for-height and/or bilateral edema. The function allows users to
get the prevalence estimates calculated in accordance with the complex sample
design properties; this includes applying survey weights when needed or applicable.</p>
<p>Before estimating, the function evaluates the quality of data by calculating
and rating the standard deviation of z-scores of WFHZ. If rated as problematic,
the prevalence is estimated based on the PROBIT method.</p>
<p>Outliers are detected based on SMART flags and get excluded prior being piped
into the actual prevalence analysis workflow.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mw_estimate_prevalence_wfhz</span><span class="op">(</span><span class="va">df</span>, wt <span class="op">=</span> <span class="cn">NULL</span>, edema <span class="op">=</span> <span class="cn">NULL</span>, .by <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data set object of class <code>data.frame</code> to use. This must have been
wrangled using this package's wrangling function for WFHZ data. The function
uses a variable name called <code>cluster</code> where the primary sampling unit IDs
are stored. Make sure to rename your cluster ID variable to <code>cluster</code>, otherwise
the function will error and terminate the execution.</p></dd>


<dt id="arg-wt">wt<a class="anchor" aria-label="anchor" href="#arg-wt"></a></dt>
<dd><p>A vector of class <code>double</code> of the final survey weights. Default is
<code>NULL</code> assuming a self weighted survey, as in the ENA for SMART software;
otherwise, when a vector of weights if supplied, weighted analysis is done.</p></dd>


<dt id="arg-edema">edema<a class="anchor" aria-label="anchor" href="#arg-edema"></a></dt>
<dd><p>A vector of class <code>character</code> of edema. Code should be
"y" for presence and "n" for absence of bilateral edema. Default is <code>NULL</code>.</p></dd>


<dt id="arg--by">.by<a class="anchor" aria-label="anchor" href="#arg--by"></a></dt>
<dd><p>A vector of class <code>character</code> or <code>numeric</code> of the geographical areas
or respective IDs for where the data was collected and for which the analysis
should be summarised at.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A summarised table of class <code>data.frame</code> of the descriptive
statistics about wasting.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## When .by = NULL ----</span></span></span>
<span class="r-in"><span><span class="co">### Start off by wrangling the data ----</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="mw_wrangle_wfhz.html">mw_wrangle_wfhz</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.03</span>,</span></span>
<span class="r-in"><span>  sex <span class="op">=</span> <span class="va">sex</span>,</span></span>
<span class="r-in"><span>  weight <span class="op">=</span> <span class="va">weight</span>,</span></span>
<span class="r-in"><span>  height <span class="op">=</span> <span class="va">height</span>,</span></span>
<span class="r-in"><span>  .recode_sex <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Now run the prevalence function ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_estimate_prevalence_wfhz</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>  wt <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="va">edema</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   gam_n  gam_p gam_p_low gam_p_upp gam_p_deff sam_n   sam_p sam_p_low sam_p_upp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>    82 0.076<span style="text-decoration: underline;">8</span>    0.057<span style="text-decoration: underline;">1</span>    0.096<span style="text-decoration: underline;">4</span>        <span style="color: #BB0000;">Inf</span>    20 0.009<span style="text-decoration: underline;">73</span>   0.003<span style="text-decoration: underline;">51</span>    0.016<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 7 more variables: sam_p_deff &lt;dbl&gt;, mam_n &lt;dbl&gt;, mam_p &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   mam_p_low &lt;dbl&gt;, mam_p_upp &lt;dbl&gt;, mam_p_deff &lt;dbl&gt;, wt_pop &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Now when .by is not set to NULL ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_estimate_prevalence_wfhz</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>  wt <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="va">edema</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="va">district</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   district   gam_n  gam_p gam_p_low gam_p_upp gam_p_deff sam_n   sam_p sam_p_low</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Metuge        <span style="color: #BB0000;">NA</span> 0.025<span style="text-decoration: underline;">1</span>   <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>              <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> 0.001<span style="text-decoration: underline;">55</span>  <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Cahora-Ba…    25 0.073<span style="text-decoration: underline;">8</span>    0.034<span style="text-decoration: underline;">8</span>    0.113         <span style="color: #BB0000;">Inf</span>     4 0.003<span style="text-decoration: underline;">36</span>  -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">48</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Chiuta        11 0.044<span style="text-decoration: underline;">4</span>    0.012<span style="text-decoration: underline;">9</span>    0.075<span style="text-decoration: underline;">9</span>        <span style="color: #BB0000;">Inf</span>     2 0.004<span style="text-decoration: underline;">44</span>  -<span style="color: #BB0000;">0.004</span><span style="color: #BB0000; text-decoration: underline;">66</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Maravia       <span style="color: #BB0000;">NA</span> 0.045<span style="text-decoration: underline;">0</span>   <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>              <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> 0.003<span style="text-decoration: underline;">51</span>  <span style="color: #BB0000;">NA</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 8 more variables: sam_p_upp &lt;dbl&gt;, sam_p_deff &lt;dbl&gt;, mam_n &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   mam_p &lt;dbl&gt;, mam_p_low &lt;dbl&gt;, mam_p_upp &lt;dbl&gt;, mam_p_deff &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   wt_pop &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## When a weighted analysis is needed ----</span></span></span>
<span class="r-in"><span><span class="fu">mw_estimate_prevalence_wfhz</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">anthro.02</span>,</span></span>
<span class="r-in"><span>  wt <span class="op">=</span> <span class="va">wtfactor</span>,</span></span>
<span class="r-in"><span>  edema <span class="op">=</span> <span class="va">edema</span>,</span></span>
<span class="r-in"><span>  .by <span class="op">=</span> <span class="va">province</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   province gam_n  gam_p gam_p_low gam_p_upp gam_p_deff sam_n   sam_p sam_p_low</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Zambezia    41 0.026<span style="text-decoration: underline;">1</span>    0.016<span style="text-decoration: underline;">1</span>    0.036<span style="text-decoration: underline;">1</span>       1.16    10 0.002<span style="text-decoration: underline;">36</span> -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">255</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Nampula     80 0.059<span style="text-decoration: underline;">5</span>    0.041<span style="text-decoration: underline;">0</span>    0.077<span style="text-decoration: underline;">9</span>       1.52    33 0.012<span style="text-decoration: underline;">9</span>   0.002<span style="text-decoration: underline;">72</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 8 more variables: sam_p_upp &lt;dbl&gt;, sam_p_deff &lt;dbl&gt;, mam_n &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   mam_p &lt;dbl&gt;, mam_p_low &lt;dbl&gt;, mam_p_upp &lt;dbl&gt;, mam_p_deff &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   wt_pop &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomás Zaba, Ernest Guevarra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

